<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>本博客搭建教程 | Zhu Zhaohua</title>
    <meta name="description" content="">
    <link rel="icon" href="/img/logo.jpeg">
    
    <link rel="preload" href="/assets/css/0.styles.a936f6f1.css" as="style"><link rel="preload" href="/assets/js/app.0d82a377.js" as="script"><link rel="preload" href="/assets/js/8.a5946d57.js" as="script"><link rel="preload" href="/assets/js/25.e5f4ff8b.js" as="script"><link rel="prefetch" href="/assets/js/10.14a4f126.js"><link rel="prefetch" href="/assets/js/11.2993392d.js"><link rel="prefetch" href="/assets/js/12.002c1f44.js"><link rel="prefetch" href="/assets/js/13.842be568.js"><link rel="prefetch" href="/assets/js/14.3a2e76f1.js"><link rel="prefetch" href="/assets/js/15.5437f5a0.js"><link rel="prefetch" href="/assets/js/16.c0a1c580.js"><link rel="prefetch" href="/assets/js/17.c0880455.js"><link rel="prefetch" href="/assets/js/18.c1b334fb.js"><link rel="prefetch" href="/assets/js/19.2295615c.js"><link rel="prefetch" href="/assets/js/2.12226995.js"><link rel="prefetch" href="/assets/js/20.ad17e7cd.js"><link rel="prefetch" href="/assets/js/21.b20bdff7.js"><link rel="prefetch" href="/assets/js/22.fdd83b9e.js"><link rel="prefetch" href="/assets/js/23.40ea8278.js"><link rel="prefetch" href="/assets/js/24.c4daf250.js"><link rel="prefetch" href="/assets/js/26.69714f88.js"><link rel="prefetch" href="/assets/js/27.661aefec.js"><link rel="prefetch" href="/assets/js/3.1db7d2c3.js"><link rel="prefetch" href="/assets/js/4.810532ad.js"><link rel="prefetch" href="/assets/js/5.5d2b6eba.js"><link rel="prefetch" href="/assets/js/6.4f7f1c8b.js"><link rel="prefetch" href="/assets/js/7.299ef908.js"><link rel="prefetch" href="/assets/js/9.17470fb0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a936f6f1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.jpeg" alt="Zhu Zhaohua" class="logo"> <span class="site-name can-hide">Zhu Zhaohua</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/timeLine/" class="nav-link">时间线</a></div><div class="nav-item"><a href="/technology/" class="nav-link router-link-active">技术</a></div><div class="nav-item"><a href="/life/" class="nav-link">生活</a></div><div class="nav-item"><a href="/ponder/" class="nav-link">思考</a></div><div class="nav-item"><a href="/tags/" class="nav-link">标签库</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/massage/" class="nav-link">留言板</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">链接</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.jianshu.com/u/cbc58f855e75" target="_blank" rel="noopener noreferrer" class="nav-link external">
  简书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/zhuzhaohua" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/kobuta" target="_blank" rel="noopener noreferrer" class="nav-link external">
  码云
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav> <div class="can-hide" style="margin-left:20px;margin-right:20px;">
   音乐
  <div role="switch" class="el-switch"><input type="checkbox" name="" true-value="true" class="el-switch__input"><!----><span class="el-switch__core" style="width:40px;"></span><!----></div> <audio loop="loop"><source src="/assets/media/yishengyouni.a7e82e2b.mp3" type="audio/mpeg"></audio></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/timeLine/" class="nav-link">时间线</a></div><div class="nav-item"><a href="/technology/" class="nav-link router-link-active">技术</a></div><div class="nav-item"><a href="/life/" class="nav-link">生活</a></div><div class="nav-item"><a href="/ponder/" class="nav-link">思考</a></div><div class="nav-item"><a href="/tags/" class="nav-link">标签库</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/massage/" class="nav-link">留言板</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">链接</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.jianshu.com/u/cbc58f855e75" target="_blank" rel="noopener noreferrer" class="nav-link external">
  简书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/zhuzhaohua" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/kobuta" target="_blank" rel="noopener noreferrer" class="nav-link external">
  码云
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>本博客搭建教程</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/technology/vue/20190915_myblog.html#简介" class="sidebar-link">简介</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/technology/vue/20190915_myblog.html#vuepress安装" class="sidebar-link">VuePress安装</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/technology/vue/20190915_myblog.html#默认主题修改" class="sidebar-link">默认主题修改</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/technology/vue/20190915_myblog.html#集成ui组件" class="sidebar-link">集成UI组件</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/technology/vue/20190915_myblog.html#个性化组件开发" class="sidebar-link">个性化组件开发</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/technology/vue/20190915_myblog.html#博客的自动路由" class="sidebar-link">博客的自动路由</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/technology/vue/20190915_myblog.html#标签墙的实现" class="sidebar-link">标签墙的实现</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/technology/vue/20190915_myblog.html#评论功能集成" class="sidebar-link">评论功能集成</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/technology/vue/20190915_myblog.html#githubpages部署" class="sidebar-link">GitHubPages部署</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/technology/vue/20190915_myblog.html#nginx部署" class="sidebar-link">Nginx部署</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/technology/vue/20190915_myblog.html#绑定域名" class="sidebar-link">绑定域名</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/technology/vue/20190915_myblog.html#结语" class="sidebar-link">结语</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h2 id="简介"><a href="#简介" aria-hidden="true" class="header-anchor">#</a> 简介</h2> <p>项目地址：<a href="https://github.com/zhuzhaohua/myBlog" target="_blank" rel="noopener noreferrer">kobuta-myBlog<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>很久之前就想自己做一个博客，把自己的工作、生活记录下来，但IT从业者的，大家懂的，个人时间实在宝贵。开始时的想法是做一个前后端分离，基于vue和springboot的javaEE项目，也着手实施了，但囿于时间有限，进度比较慢，最终还是放弃了，而另外一个阻碍，就是服务部署公网需要考虑服务器的成本，毕竟家里没有矿。。。</p> <p>本博客所采用的是一种既节省成本，又简单便捷的个人博客方式：</p> <ul><li><a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">GitHub Pages<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>提供的静态页面托管服务（国内也可以考虑码云提供的<a href="https://gitee.com/help/articles/4136" target="_blank" rel="noopener noreferrer">Gitee Pages<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>）</li> <li><a href="https://vuepress.vuejs.org/zh/" target="_blank" rel="noopener noreferrer">VuePress<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>静态网站生成器</li></ul> <p>VuePress是Vue作者尤大的一个作品，其实是用来写文档的，但有vue生态的加持，扩展能力非常强，也很适合搭建博客。VuePress有很多优秀的特性，其可以在md文件中引用vue组件的能力尤其让我痴迷。vuepress其原理与现代前端项目是一致的，基于node平台、webpack驱动的开发方式，打包后为静态页面，可以发布到任意静态服务器上。以下是官方的描述：</p> <blockquote><p>事实上，一个 VuePress 网站是一个由 Vue、Vue Router 和 webpack 驱动的单页应用。如果你以前使用过 Vue 的话，当你在开发一个自定义主题的时候，你会感受到非常熟悉的开发体验，你甚至可以使用 Vue DevTools 去调试你的自定义主题。</p></blockquote> <blockquote><p>在构建时，我们会为应用创建一个服务端渲染（SSR）的版本，然后通过虚拟访问每一条路径来渲染对应的HTML。这种做法的灵感来源于 Nuxt 的 nuxt generate 命令，以及其他的一些项目，比如 Gatsby。</p></blockquote> <p>如官方所述，部署版本会采用服务端渲染的方式打包静态资源，这是为了更好的SEO和加载速度。对SEO、SPA-&gt;SSR不太了解的朋友可以大致查一下相关的资料，并且在部署之后，可以体会一下开发模式下和生产版本下，网络响应的差异。</p> <p>闲言少叙，下面开始搭建我们的博客吧!</p> <h2 id="vuepress安装"><a href="#vuepress安装" aria-hidden="true" class="header-anchor">#</a> VuePress安装</h2> <p>包管理工具，建议使用yarn代替npm，但如果网络情况不好，可以使用tyarn，是国内某宝的镜像源，强烈建议不要使用cnpm，问题太多。</p> <p><a href="https://vuepress.vuejs.org/zh/" target="_blank" rel="noopener noreferrer">VuePress<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>官方文档有很详尽的安装教程，这里就大概搬运一下：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment"># node 要求 8以上 </span>

<span class="token comment"># 或者：npm install -g vuepress</span>
yarn global add vuepress 

<span class="token comment"># 创建vuepress的工程路径</span>
mkdir myblog
cd myblog

<span class="token comment"># 工程初始化</span>
yarn init <span class="token punctuation">-</span>y <span class="token comment"># 或者 npm init -y</span>

<span class="token comment"># 文档路径</span>
mkdir docs

<span class="token comment"># .vuepress目录</span>
cd docs
mkdir .vuepress

<span class="token comment"># config.js</span>
cd .vuepress
touch config.js

<span class="token comment"># public目录</span>
mkdir public

<span class="token comment"># 设置package.json的脚本配置</span>
  <span class="token key atrule">&quot;scripts&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token key atrule">&quot;dev&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;vuepress dev docs&quot;</span><span class="token punctuation">,</span>
    <span class="token key atrule">&quot;build&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;vuepress build docs&quot;</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>完成后的工作目录如下：</p> <div class="language- extra-class"><pre class="language-text"><code>myblog
├─── docs
│   ├── README.md
│   └── .vuepress
│       ├── public
│       └── config.js
└── package.json
</code></pre></div><p>这是vuepress最基本目录结构，其中config.js是网站的基本配置信息，详细配置内容请见官方文档:<a href="https://vuepress.vuejs.org/zh/config/#%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE" target="_blank" rel="noopener noreferrer">配置<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。用vuepress写文档或者博客，其实就是写一个md文件，并将这个文件的路径通过config.js中的路由配置绑定在菜单中，这是它的基本使用方式。</p> <p>这里插一句题外话，在学习一门新框架或者新工具的时候，第一件事，就是通读一遍官方文档，不然会走很多弯路。笔者犯过类似的错误，看到这个东西很不错，大致了解一下后，就开始弄了，遇到问题花了很长时间才解决，但其实文档里有很详尽的说明。</p> <h2 id="默认主题修改"><a href="#默认主题修改" aria-hidden="true" class="header-anchor">#</a> 默认主题修改</h2> <p>环境搭建好以后，无需过多的配置，运行npm run dev 就可以访问自己的博客了，做java后台出身的我，深感“约定大于配置”的魅力，如果我们单单是记录文档，默认的主题完全符合要求，简洁大方，但如果是做个人博客，一定是需要个性化的东西的，默认的主题无法满足我们个性化的需要。官方文档中，提供了修改默认主题的方式：</p> <blockquote><p>你可以使用 vuepress eject [targetDir] 这个命令来将默认主题的源码复制到 .vuepress/theme 文件夹下，从而可以对默认主题进行任意的修改。需要注意的是一旦 eject，即使升级 VuePress 你也无法再获得 VuePress 对默认主题的更新。</p></blockquote> <p>下载下来的theme文件夹要放在.vuepress/路径下,做过vue的人，或者有一些前端基础的人，打开这个文件夹，你就会看到vuepress的所有细节，你会看到Home、Layout、Navbar、Sidebar这样如此熟悉的字眼，你可以对样式做任意的修改。</p> <p>我是做后台的 😂，说来惭愧，前端基本是自学了一年，技术薄弱，而且时间有限，所以没有对自己的博客样式做过多的改造。读者在开启theme后，可以尽情发挥。</p> <h2 id="集成ui组件"><a href="#集成ui组件" aria-hidden="true" class="header-anchor">#</a> 集成UI组件</h2> <p>vuepress支持扩展，支持引入第三方组件，在.vuepress/下创建enhanceApp.js文件，这里展示的是引入vue生态圈比较知名的ui库<a href="https://element.eleme.cn/#/zh-CN" target="_blank" rel="noopener noreferrer">Element<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>,来自于饿了么。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 扩展 VuePress 应用
 */</span>
<span class="token keyword">import</span> Element <span class="token keyword">from</span> <span class="token string">'element-ui'</span>
<span class="token keyword">import</span> <span class="token string">'element-ui/lib/theme-chalk/index.css'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>
  Vue<span class="token punctuation">,</span> 
<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...做一些其他的应用级别的优化</span>
  Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Element<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>当然，在这之前，需要先安装element。</p> <div class="language- extra-class"><pre class="language-text"><code>yarn add element-ui
</code></pre></div><p>在扩展之后，就可以在自定义的组件或者md文件中，使用element的组件了。</p> <h2 id="个性化组件开发"><a href="#个性化组件开发" aria-hidden="true" class="header-anchor">#</a> 个性化组件开发</h2> <p>前文提到，vuepress最吸引我的，就是在md中可以使用vue组件及语法，其实这背后的技术实现也不难理解。但仔细品味，为什么在看到它之前，我没有想过这个问题？为什么看似简单的东西，却给我一种耳目一新的感觉，这不禁又让我想起曾经与一位智者的对话，大概意思就是：</p> <blockquote><p>改变这个世界的是技术，但改变技术的，是思考问题的方式。</p></blockquote> <p>扯远了 😂 。如果我们需要开发自己的组件，那么在.vuepress下新建components文件夹，可以在里面编写.vue，与vue-cli开发无异，而且，组件是全局注册的，组件之间互相调用，不用手动引入，在md文件、theme中都可以使用。</p> <h2 id="博客的自动路由"><a href="#博客的自动路由" aria-hidden="true" class="header-anchor">#</a> 博客的自动路由</h2> <p>vuepress其实是一个文档管理的方案，假如我们做一套开源库api文档，修改与添加文档不会很频繁，所以，采用在config.js中配置路由的形式是很可取，很简单的。比如像这样：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// .vuepress/config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  themeConfig<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    sidebar<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">'/foo/'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">''</span><span class="token punctuation">,</span>     <span class="token comment">/* /foo/ */</span>
        <span class="token string">'one'</span><span class="token punctuation">,</span>  <span class="token comment">/* /foo/one.html */</span>
        <span class="token string">'two'</span>   <span class="token comment">/* /foo/two.html */</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>

      <span class="token string">'/bar/'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">''</span><span class="token punctuation">,</span>      <span class="token comment">/* /bar/ */</span>
        <span class="token string">'three'</span><span class="token punctuation">,</span> <span class="token comment">/* /bar/three.html */</span>
        <span class="token string">'four'</span>   <span class="token comment">/* /bar/four.html */</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>

      <span class="token comment">// fallback</span>
      <span class="token string">'/'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">''</span><span class="token punctuation">,</span>        <span class="token comment">/* / */</span>
        <span class="token string">'contact'</span><span class="token punctuation">,</span> <span class="token comment">/* /contact.html */</span>
        <span class="token string">'about'</span>    <span class="token comment">/* /about.html */</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>但如果我们是用来写博客，一天写两三篇，每一篇对应一个md文件，都要在路由中添加一下，这实在会逼死强迫症，这也是我在选择vuepress时，遇到的最大的障碍。静态网站，可能真的没有更好的办法，动态路由这种事情，应该是后台实现的，然而我们是没有服务端的。大脑好像短路了，就在我决定放弃，准备老老实实手写路由的时候，突然想到，官方文档中提到了VueRouter，对啊，这是一个单页面应用，所谓路由，是vuerouter模拟出来的假象，$router 是否可以使用，是否能成为切入点呢？于是我又翻了一遍官方文档，找到了这个<a href="https://vuepress.vuejs.org/zh/guide/custom-themes.html#%E7%BD%91%E7%AB%99%E5%92%8C%E9%A1%B5%E9%9D%A2%E7%9A%84%E5%85%83%E6%95%B0%E6%8D%AE" target="_blank" rel="noopener noreferrer">元数据<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>：</p> <blockquote><p>如果用户在 .vuepress/config.js 配置了 themeConfig，你将可以通过 $site.themeConfig 访问到它。如此一来，你可以通过它来对用户开放一些自定义主题的配置 —— 比如指定目录或者页面的顺序，你也可以结合 $site.pages 来动态地构建导航链接。最后，别忘了，作为 Vue Router API 的一部分，this.$route 和 this.$router 同样可以使用。</p></blockquote> <p>没错,$pages就是我想要的东西,它记录了所有md文件的元数据，我可以通过在元数据中添加分类、标签，以及时间来实现路由。</p> <p>每一次新写的文章，无需在config.js中设置路由，只需要在md中按照元数据的格式，设置好type(分类),tags(标签)。编译，push到github，就可以在相应的菜单中看到它。</p> <p>但这会产生一个难以忽视的问题，需要大量的循环遍历pages以实现分类以及标签（可以参考我的组件：BlogList），甚至，我们需要对时间进行升序、降序的排列，这些原本应该是服务端在数据库里完成的事情，现在都需要浏览器去完成，着实会让人有一些担忧。我大概计算了一下，如果习惯非常好，时间充足，一天写一篇博客的话，一年360篇，30年是1万篇（当然，这过于理想化了），如果这个项目有性能测试的话，那么这个值可以作为测试的上限，以现代的带宽条件以及计算机能力来说，应该是可以应对的。显然，我是多虑了，但这里有明显的的“坏味道”，暂时还没有想到更好的解决办法，大神们有什么想法，可以与我联系。</p> <p>md文件中的元数据可以参照以下，</p> <div class="language- extra-class"><pre class="language-text"><code>---
title: 本博客搭建教程
date: '2019-06-01'
type: 技术
tags: js|vue
sidebarDepth: 3
sidebar: auto
note: 基于vuepress的个人博客，实现了博客自动路由、默认主题修改、elementUI库集成、mp3背景播放、标签墙、评论功能
---
</code></pre></div><p>对于元数据的使用，参见组件BlogList</p> <h2 id="标签墙的实现"><a href="#标签墙的实现" aria-hidden="true" class="header-anchor">#</a> 标签墙的实现</h2> <p>标签墙的实现在上文中已经提到了，通过元数据的tags设置标签，在BlogList中，遍历$pages，匹配其中的tag。
页面可以参照组件Tags</p> <h2 id="评论功能集成"><a href="#评论功能集成" aria-hidden="true" class="header-anchor">#</a> 评论功能集成</h2> <p>评论功能的集成，这里使用的是网上比较流行的valine组件：</p> <div class="language- extra-class"><pre class="language-text"><code>yarn add leancloud-storage
yarn add valine
</code></pre></div><p>对于组件的封装可以参见Valine.vue,</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">new</span> <span class="token class-name">Valine</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      el<span class="token punctuation">:</span> <span class="token string">'#vcomments'</span> <span class="token punctuation">,</span>
      appId<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span><span class="token comment">// your appId</span>
      appKey<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// your appKey</span>
      notify<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> 
      verify<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span> 
      avatar<span class="token punctuation">:</span><span class="token string">'mm'</span><span class="token punctuation">,</span> 
      placeholder<span class="token punctuation">:</span> <span class="token string">'just go go'</span> 
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>其中 appid 与appkey 需要在<a href="https://leancloud.cn/" target="_blank" rel="noopener noreferrer">leancloud<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中注册获得。</p> <p>详细的内容，原作者有详尽的说明：<a href="https://ioliu.cn/2017/add-valine-comments-to-your-blog/" target="_blank" rel="noopener noreferrer">云淡风轻<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="githubpages部署"><a href="#githubpages部署" aria-hidden="true" class="header-anchor">#</a> GitHubPages部署</h2> <p>在你的个人博客已经创建就绪之后，我们需要做的就是发布它，这需要以下几步：</p> <ul><li>本机安装git，有github账号，这一点不赘述。</li> <li>创建一个 “用户名.github.io” 这样的仓库，</li> <li>进入仓库 ，在settings中，找到 github pages的设置。</li> <li>github官方是给提供模板的，可以先选一个，在替换成我们的个人博客的时候，要把分支先pull下来，清除原有文件。</li> <li>也可以直接在仓库根路径下方一个index.html,随便写点内容，以验证我们的页面是否可以访问</li></ul> <p>以上步骤网上资料非常多，不清楚可以百度。在一切准备就绪之后，可以试试浏览器直接访问自己的主页：用户名.github.io。</p> <p>之后的事情，我们可以写一个自动发布的脚本：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment"># 构建</span>
npm run build
<span class="token comment"># 导航到构建输出目录</span>
cd docs/.vuepress/dist

git init
git add <span class="token punctuation">-</span>A
git commit <span class="token punctuation">-</span>m 'deploy'

<span class="token comment"># 推到你仓库的 master 分支</span>
git push <span class="token punctuation">-</span>f git@github.com<span class="token punctuation">:</span>zhuzhaohua/zhuzhaohua.github.io.git master
</code></pre></div><p>build之后，默认会将静态打包文件放在.vuepress/dist下，我们只需把这个文件夹里的内容提交到仓库里即可。</p> <p>每次写了新博客，都可以通过这个脚本发布。</p> <h2 id="nginx部署"><a href="#nginx部署" aria-hidden="true" class="header-anchor">#</a> Nginx部署</h2> <p>对于有服务器的朋友来说，更推荐的方式还是服务器部署，因为据笔者了解，国内暂时不支持githubpages的SEO。一顿操作猛如虎，百度竟然搜不到。这是不是很尴尬。所以，如果你想让你的作品，可以被大众搜索到，最好还是弄一台服务器。笔者写作的时间点（2019年），腾讯云有校园优惠，35岁以下首次购买腾讯云产品，可以享受1核2G一年120元的优惠。部属个nginx，绰绰有余了。</p> <p>通过nginx部署静态网站的资料，网上非常多，不在本文探讨范围内，还请大家自行搜索。</p> <h2 id="绑定域名"><a href="#绑定域名" aria-hidden="true" class="header-anchor">#</a> 绑定域名</h2> <p>现在，博客已经可以通过url： ***.github.io（或者云服务器的IP） 访问了。</p> <p>但是传说当中，高大上的码农都要有一个自己的域名，那么，就去买一个吧。我是在腾讯云买的.com顶级域名，第一年才20多块钱，是的，你没有看错，我们到现在为止，个人博客的搭建，只需要投入这20几块钱，如果你买cn域名，或者另类一些的，可能只需要几块钱。。。。。。
在购买域名的时候，需要上传个人信息的，住址、身份证信息等，相关部门以及机构需要登记审核。但审核期间完全可以正常使用，如果审核未通过，则会被停用。
在购买域名后，需要配置域名解析，这也就是花钱买域名的意义，通过dns,将买来的域名解析到github pages上。如何设置，网上资源很多，这里推荐一下：<a href="https://blog.csdn.net/FlowerDance17/article/details/80685112" target="_blank" rel="noopener noreferrer">链接<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="结语"><a href="#结语" aria-hidden="true" class="header-anchor">#</a> 结语</h2> <p>从开始研究到发布，用时两天，没有太多时间雕琢，比较简陋，仅当演示，希望大家见谅。</p> <p>如此折腾，做了一个属于自己的博客，要说它有意义，其实也不会有几个人能看到，毕竟沧海一粟，如此平凡。
今天是2019年的6月1日，这个博客，就当是送给自己的礼物吧，儿童节快乐。</p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间: </span> <span class="time">2019-09-15</span></div></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.0d82a377.js" defer></script><script src="/assets/js/8.a5946d57.js" defer></script><script src="/assets/js/25.e5f4ff8b.js" defer></script>
  </body>
</html>
